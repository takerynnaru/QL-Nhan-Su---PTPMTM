CREATE DATABASE QL_NHANSU
GO
USE QL_NHANSU
GO


CREATE TABLE PHONGBAN
(
	MAPH CHAR(6),
	TENPH NVARCHAR(50),
	TRUONGPHONG CHAR(6),
	CONSTRAINT PK_PHONGBAN PRIMARY KEY (MAPH),
)

GO

CREATE TABLE CALAMVIEC
(
	MACA CHAR(6),
	TENCA NVARCHAR(50),
	GIOBD DATETIME,
	GIOKT DATETIME,
	SOGIO INT,
	SOCONG FLOAT,
	CONSTRAINT PK_CALAMVIEC PRIMARY KEY (MACA),
)

GO

CREATE TABLE HOPDONG
(
	MAHD CHAR(6),
	TENHOPDONG NVARCHAR(50),
	NGAYBD DATETIME,
	NGAYKT DATETIME,
	NGAYKY DATETIME,
	TINHTRANG NVARCHAR(30),
	NOIDUNG NVARCHAR(100),
	CONSTRAINT PK_HOPDONG PRIMARY KEY (MAHD),
)

GO

CREATE TABLE CHUCVU
(
	MACHUCVU CHAR(6),
	TENCHUVU NVARCHAR(50),
	CONSTRAINT PK_CHUVU PRIMARY KEY (MACHUCVU),
)

GO

CREATE TABLE NHANVIEN
(
	MANV CHAR(6),
	TENNV NVARCHAR(50),
	GIOITINH NVARCHAR(3),
	NGAYSINH DATETIME,
	SDT CHAR(12),
	MAPH CHAR(6),
	MACHUCVU CHAR(6),
	MALUONG CHAR(6),
	NGAYVAOLAN DATETIME,
	TINHTRANG NVARCHAR(30),
	CHEDOLV NVARCHAR(30),
	MAHD CHAR(6),
	[HINHANH] [nvarchar](50) NULL,

	CONSTRAINT PK_NHANVIEN PRIMARY KEY (MANV),
	CONSTRAINT FK_NHANVIEN_PHONGBAN FOREIGN KEY (MAPH) REFERENCES PHONGBAN(MAPH),
	CONSTRAINT FK_NHANVIEN_HOPDONG FOREIGN KEY (MAHD) REFERENCES HOPDONG(MAHD),
	CONSTRAINT FK_NHANVIEN_CHUCVU FOREIGN KEY (MACHUCVU) REFERENCES CHUCVU(MACHUCVU),

)

GO

ALTER TABLE PHONGBAN
ADD CONSTRAINT FK_TRUONGPHONG_PHONGBAN FOREIGN KEY (TRUONGPHONG) REFERENCES NHANVIEN(MANV)


GO

CREATE TABLE QUATRINHLUONG
(
	MANV CHAR(6),
	NGAY_HIEU_LUC DATETIME,
	LUONGCB FLOAT,
	CONSTRAINT PK_QUATRINHLUONG PRIMARY KEY (MANV, NGAY_HIEU_LUC),
	CONSTRAINT FK_NHAVIEN_QUATRINHLUONG FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV),
)

GO

CREATE TABLE PHANCONG
(
	MAPC CHAR(6),
	MANVTAO CHAR(6),
	MAPH CHAR(6),
	NGUOIDUYET CHAR(6),
	NGAYTAO DATETIME,
	TUNGAY DATETIME,
	DENNGAY DATETIME,
	TIEUDE VARCHAR(100),
	TRANGTHAI NVARCHAR(30),
	GHICHU NVARCHAR(50),
	CONSTRAINT PK_PHANCONG PRIMARY KEY (MAPC),
	CONSTRAINT FK_PHANCONG_PHONGBAN FOREIGN KEY (MAPH) REFERENCES PHONGBAN(MAPH),
	CONSTRAINT FK_NHAVIEN_PHANCONG FOREIGN KEY (MANVTAO) REFERENCES NHANVIEN(MANV),
	CONSTRAINT FK_NHANVIEN_PHANCONG FOREIGN KEY (NGUOIDUYET) REFERENCES NHANVIEN(MANV),
)

GO

CREATE TABLE CHITIETPHANCONG
(
	MAPC CHAR(6),
	MANV CHAR(6),
	DAYOFTUAN INT,
	MACA CHAR(6),
	CONSTRAINT PK_CHITIETPHANCONG PRIMARY KEY (MAPC, MANV,DAYOFTUAN),
	CONSTRAINT FK_CHITIETPHANCONG_CALAMVIEC FOREIGN KEY (MACA) REFERENCES CALAMVIEC(MACA),
)

go

ALTER TABLE CHITIETPHANCONG
ADD CONSTRAINT FK_CHITIET_PHANCONG FOREIGN KEY (MAPC) REFERENCES PHANCONG(MAPC)

go

ALTER TABLE CHITIETPHANCONG
ADD CONSTRAINT FK_CHITIETPHANCONG_NHANVIEN FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV)

GO

CREATE TABLE BANGLUONG
(
	MANV CHAR(6),
	THOIGIANBD DATETIME,
	THOIGIANKT DATETIME,
	TIEUDE NVARCHAR(100),
	LUONGCOBAN FLOAT,
	THUONG FLOAT,
	SoCongChuan float,
	KPI FLOAT,
	TONGTHUNHAP FLOAT,
	CHECKINOUT FLOAT,
	LUONGTHUCNHAN FLOAT,
	CONSTRAINT PK_BANGLUONG PRIMARY KEY (MANV, THOIGIANBD),
	CONSTRAINT FK_NHAVIEN_BAGNLUONG FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV),
)

GO

CREATE TABLE LOAIDONTU
(
	MALOAIDON CHAR(6),
	TENLOAIDONTU NVARCHAR(50),
	CONSTRAINT PK_LOAIDONTU PRIMARY KEY (MALOAIDON),
)

GO

CREATE TABLE DONTU
(
	MANV CHAR(6),
	MADON CHAR(6),
	MALOAIDON CHAR(6),
	NGUOILAP CHAR(6),
	TAOHO INT,
	NGUOIDUYET CHAR(6),
	NGAYTAO DATETIME,
	TRANGTHAI NVARCHAR(30),
	GHICHU NVARCHAR(50),
	CONSTRAINT PK_DONTU PRIMARY KEY (MADON),
	CONSTRAINT FK_NHAVIEN_DONTU FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV),
	CONSTRAINT FK_NHAVIEN_DONTU_NGUOILAP FOREIGN KEY (NGUOILAP) REFERENCES NHANVIEN(MANV),
	CONSTRAINT FK_NHAVIEN_DONTU_NGUOIDUYET FOREIGN KEY (NGUOIDUYET) REFERENCES NHANVIEN(MANV),
	CONSTRAINT FK_DONTU_LOAIDONTU FOREIGN KEY (MALOAIDON) REFERENCES LOAIDONTU(MALOAIDON)

)

go

--ALTER TABLE DONTU
--ADD CONSTRAINT FK_DONTU_LOAIDONTU FOREIGN KEY (MALOAIDON) REFERENCES LOAIDONTU(MALOAIDON)

--GO


GO

CREATE TABLE CHITIETDONTU
(
	MADON CHAR(6),
	LYDO NVARCHAR(60),
	NGAYBD DATETIME,
	NGAYKT DATETIME,
	GIOBD DATETIME,
	GIOKT DATETIME,
	TINHCONG INT,
	MOTA NVARCHAR(200),
	PHAT INT,
	CONSTRAINT FK_CHITIET_DONTU FOREIGN KEY (MADON) REFERENCES DONTU(MADON),
	CONSTRAINT PK_CHITIETDONTU PRIMARY KEY (MADON, NGAYBD),

)

GO

CREATE TABLE TAIKHOAN
(
	MANV CHAR(6),
	MAKHAU CHAR(6),
	TRANGTHAI INT,
	CONSTRAINT PK_TAIKHOAN PRIMARY KEY (MANV, MAKHAU),
	CONSTRAINT FK_TAIKHOAN_NHANVIEN FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV),
)

--go

--ALTER TABLE TAIKHOAN
--ADD CONSTRAINT PK_TAIKHOAN_matkhau PRIMARY KEY (MAKHAU)

GO

CREATE TABLE CHAMCONG
(
	MANV CHAR(6),
	NGAYCC DATETIME,
	CHECKIN DATETIME,
	CHECKOUT DATETIME,
	SOLAN INT,
	CONSTRAINT PK_CHAMCONG PRIMARY KEY (MANV, NGAYCC),
	CONSTRAINT FK_CHAMCONG_NHANVIEN FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV)
)

go

--ALTER TABLE CHAMCONG
--ADD CONSTRAINT PK_CHAMCONG PRIMARY KEY (MANV, NGAYCC)

go


CREATE TABLE THONGBAO
(
	MATB CHAR(6),
	NGUOITAO CHAR(6),
	NGAYTAO DATETIME,
	DOITUONGNHAN INT,
	MAPB CHAR(6),
	MANV CHAR(6),
	TIEUDE NVARCHAR(100),
	NOIDUNG NVARCHAR(300),
	CONSTRAINT PK_THONGBAO PRIMARY KEY (MATB),
	CONSTRAINT FK_THONGBAO_NHANVIEN FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV),
	CONSTRAINT FK_THONGBAO_NGUOITAO FOREIGN KEY (NGUOITAO) REFERENCES NHANVIEN(MANV),
	CONSTRAINT FK_THONGBAO_PHONGBAN FOREIGN KEY (MAPB) REFERENCES PHONGBAN(MAPH),
)

go

CREATE TABLE CHITIETTHONGBAO
(
	MATB CHAR(6),	
	MANV CHAR(6),
	CONSTRAINT PK_CHITIETTHONGBAO PRIMARY KEY (MATB, MANV),
	CONSTRAINT FK_CHITIETTHONGBAO_NHANVIEN FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV),
	CONSTRAINT FK_CHITIETTHONGBAO_THONGBAO FOREIGN KEY (MATB) REFERENCES THONGBAO(MATB),
)

go

CREATE TABLE BANGPHU
(
	TENMA CHAR(6),
	MA INT,
	CONSTRAINT PK_BANGPHU PRIMARY KEY (TENMA),
)

go

INSERT INTO BANGPHU VALUES ('MANV',1);
INSERT INTO BANGPHU VALUES ('MATB',1); --MÃ THÔNG BÁO
INSERT INTO BANGPHU VALUES ('MAPB',1);
INSERT INTO BANGPHU VALUES ('MACV',1);
INSERT INTO BANGPHU VALUES ('MADON',51);
INSERT INTO BANGPHU VALUES ('MAPC',2);
INSERT INTO BANGPHU VALUES ('MAHD',1);


--CREATE TABLE BANGPHU(TENMA CHAR(6),MA INT,CONSTRAINT PK_BANGPHU PRIMARY KEY (TENMA))



 --CALAMVIEC (MACA CHAR(6),TENCA NVARCHAR(30), GIOBD DATETIME, GIOKT DATETIME, SOGIO INT, SOCONG FLOAT,)
INSERT INTO CALAMVIEC VALUES ('CA001', N'CA SANG', '08:00', '12:00', 4, 0.5);
INSERT INTO CALAMVIEC VALUES ('CA002', N'CA CHIỀU', '13:00', '17:00', 4, 0.5);
INSERT INTO CALAMVIEC VALUES ('CA003', N'CA SANG CHIEU', '08:00', '17:00', 8, 1);

select * from CALAMVIEC
SELECT DATEPART(Hh, GIOBD), DATEPART(Hh, GIOKT), MACA FROM CALAMVIEC 
-- SELECT DATEPART(Mi, GIOBD) FROM CALAMVIEC 

--SELECT DAYOFWEEK('2021-02-03');
--SELECT DAYOFWEEK(GIOBD) FROM CALAMVIEC


-- TABLE PHONGBAN (MAPH CHAR(6),TENPH NVARCHAR(50),TRUONGPHONG CHAR(6))
INSERT INTO PHONGBAN VALUES ('MAR001', N'Phòng Marketing team 1', null);
INSERT [dbo].[PHONGBAN] ([MAPH], [TENPH], [TRUONGPHONG]) VALUES (N'MAR002', N'Phòng Tuyển dụng Recruitment', NULL)
INSERT [dbo].[PHONGBAN] ([MAPH], [TENPH], [TRUONGPHONG]) VALUES (N'MAR003', N'Phòng C&B – Compensation & Benefits', NULL)
INSERT [dbo].[PHONGBAN] ([MAPH], [TENPH], [TRUONGPHONG]) VALUES (N'MAR004', N'Phòng hành chính HR Admin', NULL)
INSERT [dbo].[PHONGBAN] ([MAPH], [TENPH], [TRUONGPHONG]) VALUES (N'MAR005', N'Phòng T&D – Training & Development', NULL)
SET DATEFORMAT DMY;

-- TABLE HOPDONG(MAHD CHAR(6),TENHOPDONG NVARCHAR(50),NGAYBD DATE,NGAYKT DATE,NGAYKY DATE,TINHTRANG NVARCHAR(30),NOIDUNG NVARCHAR(100),CONSTRAINT PK_HOPDONG PRIMARY KEY (MAHD),)
INSERT INTO HOPDONG VALUES ('HD0050', N'Hộp Đồng Thử Việc', '09/09/2019', '09/12/2019', '03/09/2019', N'Hết hạn', N'thử việc 3 tháng');
INSERT INTO HOPDONG VALUES ('HDDEMO', N'Hộp Đồng Thử Việc', '09/09/2019', '09/12/2019', '03/09/2019', N'Hết hạn', N'thử việc 3 tháng');
INSERT [dbo].[HOPDONG] ([MAHD], [TENHOPDONG], [NGAYBD], [NGAYKT], [NGAYKY], [TINHTRANG], [NOIDUNG]) VALUES (N'HD0051 ', N'Hợp Đồng Làm Việc', CAST(N'2020-08-08' AS Date), CAST(N'2030-08-08' AS Date), CAST(N'2020-08-08' AS Date), N'Còn hiệu lực', N'Làm việc 10 năm')
INSERT [dbo].[HOPDONG] ([MAHD], [TENHOPDONG], [NGAYBD], [NGAYKT], [NGAYKY], [TINHTRANG], [NOIDUNG]) VALUES (N'HD0052 ', N'Hợp Đồng Học Việc', CAST(N'2020-12-10' AS Date), CAST(N'2021-03-10' AS Date), CAST(N'2020-12-10' AS Date), N'Hết hiệu lực', N'Học việc 3 tháng')
INSERT [dbo].[HOPDONG] ([MAHD], [TENHOPDONG], [NGAYBD], [NGAYKT], [NGAYKY], [TINHTRANG], [NOIDUNG]) VALUES (N'HD0053 ', N'Hợp Đồng Làm Việc', CAST(N'2020-03-24' AS Date), CAST(N'2025-03-24' AS Date), CAST(N'2020-03-24' AS Date), N'Còn hiệu lực', N'Làm việc 5 năm')
INSERT [dbo].[HOPDONG] ([MAHD], [TENHOPDONG], [NGAYBD], [NGAYKT], [NGAYKY], [TINHTRANG], [NOIDUNG]) VALUES (N'HD0054 ', N'Hợp Đồng Thử Việc', CAST(N'2020-11-20' AS Date), CAST(N'2020-12-20' AS Date), CAST(N'2020-11-20' AS Date), N'Hết hạn', N'Thử việc 1 tháng')

-- TABLE CHUCVU(MACHUCVU CHAR(6),TENCHUVU NVARCHAR(50),CONSTRAINT PK_CHUVU PRIMARY KEY (MACHUCVU),)
INSERT INTO CHUCVU VALUES ('MAR001', N'Intern Marketer');
INSERT [dbo].[CHUCVU] ([MACHUCVU], [TENCHUVU]) VALUES (N'MAR002', N'Chief Human Resources Officer')
INSERT [dbo].[CHUCVU] ([MACHUCVU], [TENCHUVU]) VALUES (N'MAR003', N'HR manager')
INSERT [dbo].[CHUCVU] ([MACHUCVU], [TENCHUVU]) VALUES (N'MAR004', N'HR admin')
INSERT [dbo].[CHUCVU] ([MACHUCVU], [TENCHUVU]) VALUES (N'MAR005', N'Recruitment Specialist')
INSERT [dbo].[CHUCVU] ([MACHUCVU], [TENCHUVU]) VALUES (N'MAR006', N'Training and Development Specialist')

--CREATE TABLE NHANVIEN(MANV CHAR(6),TENNV NVARCHAR(50),GIOITINH NVARCHAR(3),NGAYSINH DATE,SDT CHAR(12),MAPH CHAR(6),MACHUCVU CHAR(6),MALUONG CHAR(6),NGAYVAOLAN DATE,TINHTRANG NVARCHAR(30),CHEDOLV NVARCHAR(30),MAHD CHAR(6),)
INSERT INTO NHANVIEN VALUES ('NV0050', N'Vũ Văn Hồng Sơn', N'Nam', '17/02/2000', '0945974255', 'MAR001', 'MAR001',NULL, '02/09/2019', N'Làm chính thức', N'Part-Time', 'HD0050', 'son1.png');
INSERT INTO NHANVIEN VALUES ('DEMO', N'Vũ Văn Hồng Sơn', N'Nam', '17/02/2000', '0945974255', 'MAR003', 'MAR003',NULL, '02/09/2019', N'Làm chính thức', N'Part-Time', 'HDDEMO','son1.png');
INSERT [dbo].[NHANVIEN] ([MANV], [TENNV], [GIOITINH], [NGAYSINH], [SDT], [MAPH], [MACHUCVU], [MALUONG], [NGAYVAOLAN], [TINHTRANG], [CHEDOLV], [MAHD], [HINHANH]) VALUES (N'NV0051 ', N'Nguyễn Văn A', N'Nam', CAST(N'1997-12-01' AS Date), N'029349489   ', N'MAR002', N'MAR006', NULL, CAST(N'2020-09-09' AS Date), N'Làm chính thức', N'Full-Time', N'HD0051 ', N'h2.png')
INSERT [dbo].[NHANVIEN] ([MANV], [TENNV], [GIOITINH], [NGAYSINH], [SDT], [MAPH], [MACHUCVU], [MALUONG], [NGAYVAOLAN], [TINHTRANG], [CHEDOLV], [MAHD], [HINHANH]) VALUES (N'NV0052 ', N'Lê Thị B', N'Nữ', CAST(N'1999-04-20' AS Date), N'092847348   ', N'MAR003', N'MAR005', NULL, CAST(N'2020-12-10' AS Date), N'Học việc', N'Part-Time', N'HD0052 ', N'h3.png')
INSERT [dbo].[NHANVIEN] ([MANV], [TENNV], [GIOITINH], [NGAYSINH], [SDT], [MAPH], [MACHUCVU], [MALUONG], [NGAYVAOLAN], [TINHTRANG], [CHEDOLV], [MAHD], [HINHANH]) VALUES (N'NV0053 ', N'Trần Thành C', N'Nam', CAST(N'1996-05-01' AS Date), N'034375892   ', N'MAR004', N'MAR004', NULL, CAST(N'2020-03-24' AS Date), N'Làm chính thức', N'Full-Time', N'HD0053 ', N'h4.png')
INSERT [dbo].[NHANVIEN] ([MANV], [TENNV], [GIOITINH], [NGAYSINH], [SDT], [MAPH], [MACHUCVU], [MALUONG], [NGAYVAOLAN], [TINHTRANG], [CHEDOLV], [MAHD], [HINHANH]) VALUES (N'NV0054 ', N'Huỳnh Thanh D', N'Nữ', CAST(N'1998-01-30' AS Date), N'098457273   ', N'MAR005', N'MAR003', NULL, CAST(N'2020-11-20' AS Date), N'Thử việc', N'Full-Time', N'HD0054 ', N'h5.png')
-- TABLE TAIKHOAN(MANV CHAR(6),MAKHAU CHAR(6),TRANGTHAI INT,CONSTRAINT PK_TAIKHOAN PRIMARY KEY (MANV),CONSTRAINT FK_TAIKHOAN_NHANVIEN FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV),)
INSERT INTO TAIKHOAN VALUES ('NV0050','4321',1);
INSERT INTO TAIKHOAN VALUES ('DEMO','4321',1);
INSERT INTO TAIKHOAN VALUES ('NV0051','4321',0)
INSERT INTO TAIKHOAN VALUES ('NV0052','4321',1)
INSERT INTO TAIKHOAN VALUES ('NV0053','4321',1)
INSERT INTO TAIKHOAN VALUES ('NV0054','4321',1)


--CREATE TABLE PHANCONG(MAPC CHAR(6), MANVTAO CHAR(6), MAPH CHAR(6), NGUOIDUYET CHAR(6), NGAYTAO DATE, TUNGAY DATE, DENNGAY DATE,TIEUDE VARCHAR(100), TRANGTHAI NVARCHAR(30), GHICHU NVARCHAR(50))
INSERT INTO PHANCONG VALUES ('PC001','NV0050','MAR001','NV0050','02/06/2021', '02/06/2021', '19/06/2021', N'Lịch làm tháng 6 phòng Mar', N'đã duyệt', N'ca làm cho phòng marketing');
INSERT INTO PHANCONG VALUES ('PC02','NV0050','MAR001','NV0050','02/05/2021', '02/05/2021', '19/5/2021', N'Lịch làm tháng 5 phòng Mar', N'đã duyệt', N'ca làm cho phòng marketing');

--CREATE TABLE CHITIETPHANCONG(MAPC CHAR(6), MANV CHAR(6), DAYOFTUAN INT, MACA CHAR(6))
INSERT INTO CHITIETPHANCONG VALUES ('PC001','NV0050',1,'CA001'); --THU 2
INSERT INTO CHITIETPHANCONG VALUES ('PC001','NV0050',2,'CA002'); --THU 3
INSERT INTO CHITIETPHANCONG VALUES ('PC001','NV0050',3,'CA001'); --THU 4
INSERT INTO CHITIETPHANCONG VALUES ('PC001','NV0050',4,'CA003'); --THU 5
INSERT INTO CHITIETPHANCONG VALUES ('PC001','NV0050',5,'CA003'); --THU 6

INSERT INTO CHITIETPHANCONG VALUES ('PC02','NV0050',1,'CA001'); --THU 2
INSERT INTO CHITIETPHANCONG VALUES ('PC02','NV0050',2,'CA001'); --THU 3
INSERT INTO CHITIETPHANCONG VALUES ('PC02','NV0050',3,'CA001'); --THU 4
INSERT INTO CHITIETPHANCONG VALUES ('PC02','NV0050',6,'CA003'); --THU 7


select * from PHANCONG
select * from CHITIETPHANCONG

select * from HOPDONG
select * from PHONGBAN
select * from HOPDONG
select * from TAIKHOAN

select * from CALAMVIEC


--delete from CHITIETPHANCONG

--CREATE TABLE CHAMCONG(MANV CHAR(6), NGAYCC DATETIME, CHECKIN DATETIME, CHECKOUT DATETIME, SOLAN INT)=
--INSERT INTO CHAMCONG VALUES ('NV050','02/06/2021','08:00',NULL, 1);
--select * from CHAMCONG
--delete from CHAMCONG
--delete from NHANVIEN where MANV = 'DEMO'
--delete from TAIKHOAN where MANV = 'DEMO'
--UPDATE CHAMCONG
--SET CHECKOUT = '12:00'
--WHERE MANV = 'NV050'
--AND NGAYCC = '02/06/2021';

--CREATE TABLE LOAIDONTU( MALOAIDON CHAR(6), TENLOAIDONTU NVARCHAR(50), CONSTRAINT PK_LOAIDONTU PRIMARY KEY (MALOAIDON))
INSERT INTO LOAIDONTU VALUES ('DTXN',N'Đơn Xin Nghỉ');
INSERT INTO LOAIDONTU VALUES ('DTCIO',N'Đơn Checkin - Checkout');
INSERT INTO LOAIDONTU VALUES ('DTVM',N'Đơn Vắng Mặt');
select * from LOAIDONTU

--CREATE TABLE DONTU(MANV CHAR(6), MADON CHAR(6), MALOAIDON CHAR(6), NGUOILAP CHAR(6), TAOHO INT, NGUOIDUYET CHAR(6),NGAYTAO DATETIME, TRANGTHAI NVARCHAR(30), GHICHU NVARCHAR(50))
INSERT INTO DONTU VALUES ('NV0050','D00050','DTXN','NV0050', 0, 'NV0050', '05/05/2021', N'Chờ Duyệt', N'đơn xin nghỉ phép');

SET DATEFORMAT DMY;
--CREATE TABLE CHITIETDONTU( MADON CHAR(6), LYDO NVARCHAR(60), NGAYBD DATETIME, NGAYKT DATETIME, GIOBD DATETIME, GIOKT DATETIME, TINHCONG INT, MOTA NVARCHAR(200), PHAT INT)
INSERT INTO CHITIETDONTU VALUES ('D00050',N'Nghỉ ốm','05/05/2021','06/05/2021', null,null,0, N'đơn xin nghỉ phép', 50000);


select * from DONTU

select * from CHITIETDONTU

select * from BANGPHU
select * from LOAIDONTU


--THONGBAO(MATB CHAR(6),NGUOITAO CHAR(6),NGAYTAO DATETIME,DOITUONGNHAN INT,MAPB CHAR(6),MANV CHAR(6),TIEUDE NVARCHAR(100),NOIDUNG NVARCHAR(300),)
INSERT INTO THONGBAO VALUES ('Demo1','NV0050', '11/06/2021', 1, NULL, 'NV0050', N'Thông Báo DEMO1', N'Đây là nội dung thông báo, mọi người đọc kỹ kẻo xót');
INSERT INTO THONGBAO VALUES ('Demo2','NV0050', '11/06/2021', 1, NULL, 'NV0050', N'Thông Báo DEMO2 NHA', N'Đây là nội dung thông báo này khác nội dung thống báo trên, mọi người đọc kỹ kẻo xót');
go

--CREATE TABLE CHITIETTHONGBAO(MATB CHAR(6),	MANV CHAR(6))
INSERT INTO CHITIETTHONGBAO VALUES ('Demo1','NV0050');
INSERT INTO CHITIETTHONGBAO VALUES ('Demo2','NV0050');
select * from THONGBAO
select * from CHITIETTHONGBAO
select * from CHAMCONG
--DELETE FROM THONGBAO
--DELETE FROM CHITIETTHONGBAO